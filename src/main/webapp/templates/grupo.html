<div class="row">
	<div class="col-lg-12">
		<h1>Grupos</h1>
	</div>
</div>
<div class="row">
	<div class="col-lg-12">
		<h2>{{ grupo.nombre }}</h2>
	</div>
</div>
<div class="row">
	<div class="col-lg-12">
		<button type="button" class="btn btn-default" ng-click="agregaUsuario()" ng-hide="perteneceAlGrupo">
			<span class="glyphicon glyphicon-check"></span> Entrar al grupo
		</button>
		<button type="button" class="btn btn-default" ng-click="eliminaUsuario()" ng-show="perteneceAlGrupo">
			<span class="glyphicon glyphicon-new-window"></span> Salir del grupo
		</button> <p />
	</div>
</div>
<div class="row">
	<div class="col-lg-12">
		<div class="panel panel-primary">
			<div class="panel-heading">
				<h3 class="panel-title">Recetas del grupo</h3>
			</div>
			<div class="panel-body">
				<div class="input-group" ng-repeat="receta in recetas track by $index" ng-hide="recetas.length == 0">
					<span class="form-control">{{ receta.nombre }} <small>- {{ receta.autor }}</small></span>
					<div class="input-group-btn">
						<button type="button" class="btn btn-default" ng-show="perteneceAlGrupo" ng-click="mostrarCalificacion(receta.id)">
							<span class="glyphicon glyphicon-star-empty"></span>
						</button>
						<a type="button" class="btn btn-default" href="#receta/{{ receta.id }}">
							<span class="glyphicon glyphicon-eye-open"></span>
						</a>
						<button type="button" class="btn btn-default" ng-click="eliminaReceta(receta)" ng-show="perteneceAlGrupo && receta.autor == usuario">
							<span class="glyphicon glyphicon-trash"></span>
						</button>
					</div>
				</div>
				<div ng-show="recetas.length == 0">No se compartieron recetas</div>
			</div>
		</div>
	</div>
</div>
<div class="row">
	<div class="col-lg-12">
		<div class="panel panel-primary">
			<div class="panel-heading">
				<h3 class="panel-title">Usuarios del grupo</h3>
			</div>
			<div class="panel-body">
				<div class="list-group" ng-hide="usuarios.length == 0">
					<span ng-repeat="usuario in usuarios track by $index" class="list-group-item">{{ usuario.nombre }} - {{ usuario.email }}</span>
				</div>
				<div ng-show="usuarios.length == 0">No se encontraron usuarios</div>
			</div>
		</div>
	</div>
</div>
<div class="row" ng-show="perteneceAlGrupo">
	<div class="col-lg-12">
		<div class="panel panel-primary">
			<div class="panel-heading">
				<h3 class="panel-title">Recetas propias</h3>
			</div>
			<div class="panel-body">
				<div class="input-group" ng-repeat="receta in recetasPropias track by $index" ng-hide="recetasPropias.length == 0">
					<span type="text" class="form-control">{{ receta.nombre }}</span>
					<div class="input-group-btn">
						<button type="button" class="btn btn-default" ng-click="agregaReceta(receta)">
							<span>Compartir </span>
							<span class="glyphicon glyphicon-share-alt"></span>
						</button>
					</div>
				</div>
				<div ng-show="recetasPropias.length == 0">No se encontraron recetas</div>
			</div>
		</div>
	</div>
</div>
<div class="modal fade" id="modalCalificacion" tabindex="-1" role="dialog" aria-labelledby="modalCalificacionLabel">
	<div class="modal-dialog modal-sm" role="document">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-label="Close">
					<span aria-hidden="true">&times;</span>
				</button>
				<h4 class="modal-title" id="modalCalificacionLabel">Calificar Receta</h4>
			</div>
			<div class="modal-body">
				<div class="col-lg-12">
					<div class="btn-group" data-toggle="buttons">
						<label class="btn btn-default" ng-class="{'active': calificacion.calificacion == 1}" ng-click="calificacion.calificacion = 1">
							<input type="radio" name="calificacion" value="1" ng-model="calificacion.calificacion" autocomplete="off"><span class="glyphicon glyphicon-star-empty"></span>
						</label>
						<label class="btn btn-default" ng-class="{'active': calificacion.calificacion == 2}" ng-click="calificacion.calificacion = 2">
							<input type="radio" name="calificacion" value="2" ng-model="calificacion.calificacion" autocomplete="off"><span class="glyphicon glyphicon-star-empty"></span>
						</label>
						<label class="btn btn-default" ng-class="{'active': calificacion.calificacion == 3}" ng-click="calificacion.calificacion = 3">
							<input type="radio" name="calificacion" value="3" ng-model="calificacion.calificacion" autocomplete="off"><span class="glyphicon glyphicon-star-empty"></span>
						</label>
						<label class="btn btn-default" ng-class="{'active': calificacion.calificacion == 4}" ng-click="calificacion.calificacion = 4">
							<input type="radio" name="calificacion" value="4" ng-model="calificacion.calificacion" autocomplete="off"><span class="glyphicon glyphicon-star-empty"></span>
						</label>
						<label class="btn btn-default" ng-class="{'active': calificacion.calificacion == 5}" ng-click="calificacion.calificacion = 5">
							<input type="radio" name="calificacion" value="5" ng-model="calificacion.calificacion" autocomplete="off"><span class="glyphicon glyphicon-star-empty"></span>
						</label>
					</div>
				</div>
				<div class="col-lg-12">
					<span>Seleccione una calificacion</span>
				</div>
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">Cerrar</button>
				<button type="button" class="btn btn-primary" ng-click="guardarCalificacion(calificacion)">Guardar</button>
			</div>
		</div>
	</div>
</div>